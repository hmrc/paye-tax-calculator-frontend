@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import forms.YouHaveToldUsItem
@import play.api.i18n._
@import uk.gov.hmrc.play.views.html.helpers.FormWithCSRF

@this(
        govuk_wrapper: templates.GovukLayoutWrapper,
        formHelper: FormWithCSRF,
        errorSummary: components.errorSummary,
        h1: components.h1,
        p: components.p,
        link: components.link,
        inputRadio: components.inputRadio,
        button: components.button,
        insetText: GovukInsetText
)

@(overStatePensionAgeForm: Form[StatePension], youHaveToldUsItems: List[YouHaveToldUsItem])(implicit request: Request[_], messages: Messages)

@radioFieldStatePension = @{
    overStatePensionAgeForm("overStatePensionAge")
}

@pensionAgeRadios = @{
    Seq(
        RadioItem(
            id = Some("over-state-pension-age-yes"),
            content = Text(Messages("quick_calc.over_state_pension_age.yes")),
            label = Some(Label(content = Text(Messages("quick_calc.over_state_pension_age.yes")))),
            value = Some("true"),
            checked = radioFieldStatePension.value.contains("true")
        ),
        RadioItem(
            id = Some("over-state-pension-age-no"),
            content = Text(Messages("quick_calc.over_state_pension_age.no")),
            label = Some(Label(content = Text(Messages("quick_calc.over_state_pension_age.no")))),
            value = Some("false"),
            checked = radioFieldStatePension.value.contains("false"))
    )
}

@govuk_wrapper(Some(title(overStatePensionAgeForm, Messages("quick_calc.over_state_pension_age.header")))) {

    @formHelper(action = controllers.routes.StatePensionController.submitStatePensionForm()) {

        @errorSummary(overStatePensionAgeForm.errors)

        @h1(messages("quick_calc.over_state_pension_age.header"))

        @p {
            @Messages("quick_calc.salary.question.state_pension_url_a") @link("https://www.gov.uk/state-pension-age", "quick_calc.salary.question.state_pension_url_b") @Messages("quick_calc.salary.question.state_pension_url_c")
        }

        @insetText(InsetText(content = Text(Messages("quick_calc.salary.question.state_pension_inf"))))

        @inputRadio(
            form = overStatePensionAgeForm,
            legend = "",
            name = "overStatePensionAge",
            items = pensionAgeRadios,
            inline = true
        )

        @button("continue")
    }
}
@*main_template(title = Messages("quick_calc.over_state_pension_age.header"), mainClass = Some("full-width")) {*@

@* @beta_header()*@

@* <a class="back-link" id="sp-back" href="@{youHaveToldUsItems.flatMap(y => if (labels.contains(y.label)) y.url else "")}">@Messages("back")</a>*@

@* <div class="grid-layout__column grid-layout__column--2-3">*@

@* @if(overStatePensionAgeForm.hasErrors) {*@
@* <div class="flash error-summary error-summary--show"*@
@* id="error-summary-display"*@
@* role="alert"*@
@* aria-labelledby="error-summary-heading"*@
@* tabindex="-1">*@
@* <h1 id="error-summary-heading" class="h2-heading">@Messages("quick_calc.salary.error_header")</h1>*@
@* <ul>*@
@* <li><a id="over-state-pension-age-error-link" href="#over-state-pension-age-inline-error">@{*@
@* Messages("quick_calc.over_state_pension_age_error_link")*@
@* }</a></li>*@
@* </ul>*@
@* </div>*@
@* }*@

@* <h1 class="heading-large">@Messages("quick_calc.over_state_pension_age.header")</h1>*@

@* <p>@Messages("quick_calc.salary.question.state_pension_url_a") <a href="https://www.gov.uk/state-pension-age" target="_blank">@Messages("quick_calc.salary.question.state_pension_url_b")</a>*@
@* @Messages("quick_calc.salary.question.state_pension_url_c")</p>*@

@* <p class="faded-text faded-text--small">@Messages("quick_calc.salary.question.state_pension_inf")</p>*@

@* <form action = "@controllers.routes.QuickCalcController.submitStatePensionForm()" method="post">*@

@* <div class="form-group">*@
@* <fieldset class="inline form-field-group">*@

@* @if(overStatePensionAgeForm("overStatePensionAge").hasErrors){*@
@* <fieldset class="form-field--error">*@
@* <div class="error-notification" id="over-state-pension-age-inline-error">*@
@* @{overStatePensionAgeForm("overStatePensionAge").errors.head.message}*@
@* </div>*@
@* } else {<fieldset>}*@

@* <legend class="visuallyhidden">@Messages("quick_calc.over_state_pension_age.header")</legend>*@

@* <label class="block-label">@Messages("quick_calc.over_state_pension_age.yes")*@
@* <input type="radio"*@
@* id="over-state-pension-age-yes"*@
@* name="overStatePensionAge"*@
@* value="true"*@
@* @if(radioField.value.contains("true")) { checked="checked" } />*@
@* </label>*@

@* <label class="block-label">@Messages("quick_calc.over_state_pension_age.no")*@
@* <input type="radio"*@
@* id="over-state-pension-age-no"*@
@* name="overStatePensionAge"*@
@* value="false"*@
@* @if(radioField.value.contains("false")) { checked="checked" } />*@
@* </label>*@

@* </fieldset>*@
@* </fieldset>*@
@* </div>*@

@* <div class="form-group">*@
@* <input type="submit" id="sp-continue" class="button" value="@Messages("continue")">*@
@* </div>*@
@* </form>*@
@* </div>*@

@* <div class="grid-layout__column grid-layout__column--1-3">*@
@* </div>*@

@*}*@